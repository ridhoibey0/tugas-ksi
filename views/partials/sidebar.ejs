<!-- Mobile Overlay -->
<div id="overlay" class="fixed inset-0 bg-black bg-opacity-50 z-20 hidden md:hidden"></div>

<!-- Sidebar -->
<aside id="sidebar" class="mobile-sidebar fixed md:static inset-y-0 left-0 z-30 w-64 bg-white shadow-lg md:translate-x-0">
  <div class="p-4 md:p-6 bg-gradient-to-r from-blue-600 to-blue-700">
    <div class="flex items-center justify-between">
      <div class="flex items-center space-x-3">
        <div class="bg-white p-2 rounded-lg">
          <i class="fas fa-store text-blue-600 text-xl md:text-2xl"></i>
        </div>
        <div class="text-white">
          <h1 class="font-bold text-lg md:text-xl">Warung Pak Irik</h1>
          <p class="text-xs text-blue-100">Sistem Manajemen</p>
        </div>
      </div>
      <!-- Close button for mobile -->
      <button id="closeSidebar" class="md:hidden text-white hover:text-blue-200">
        <i class="fas fa-times text-xl"></i>
      </button>
    </div>
  </div>
  
  <nav class="mt-6 overflow-y-auto" style="max-height: calc(100vh - 140px);">
    <a href="/" class="sidebar-link flex items-center px-4 py-3 text-gray-700 hover:bg-blue-50 hover:text-blue-600 transition-colors <%= page === 'dashboard' ? 'active' : '' %>">
      <i class="fas fa-home w-6"></i>
      <span>Dashboard</span>
    </a>
    
    <div class="px-4 py-2 mt-4">
      <p class="text-xs font-semibold text-gray-400 uppercase">Transaksi</p>
    </div>
    
    <a href="/sales" class="sidebar-link flex items-center px-4 py-3 text-gray-700 hover:bg-blue-50 hover:text-blue-600 transition-colors <%= page === 'sales' ? 'active' : '' %>">
      <i class="fas fa-shopping-cart w-6"></i>
      <span>Penjualan</span>
    </a>
    
    <div class="px-4 py-2 mt-4">
      <p class="text-xs font-semibold text-gray-400 uppercase">Data Master</p>
    </div>
    
    <a href="/products" class="sidebar-link flex items-center px-4 py-3 text-gray-700 hover:bg-blue-50 hover:text-blue-600 transition-colors <%= page === 'products' ? 'active' : '' %>">
      <i class="fas fa-box w-6"></i>
      <span>Produk</span>
    </a>
    
    <a href="/stock" class="sidebar-link flex items-center px-4 py-3 text-gray-700 hover:bg-blue-50 hover:text-blue-600 transition-colors <%= page === 'stock' ? 'active' : '' %>">
      <i class="fas fa-warehouse w-6"></i>
      <span>Manajemen Stok</span>
    </a>
    
    <div class="px-4 py-2 mt-4">
      <p class="text-xs font-semibold text-gray-400 uppercase">Laporan</p>
    </div>
    
    <a href="/reports" class="sidebar-link flex items-center px-4 py-3 text-gray-700 hover:bg-blue-50 hover:text-blue-600 transition-colors <%= page === 'reports' ? 'active' : '' %>">
      <i class="fas fa-chart-line w-6"></i>
      <span>Laporan Penjualan</span>
    </a>
    
    <a href="/reports/products" class="sidebar-link flex items-center px-4 py-3 text-gray-700 hover:bg-blue-50 hover:text-blue-600 transition-colors">
      <i class="fas fa-chart-bar w-6"></i>
      <span>Laporan Produk</span>
    </a>
    
    <!-- Logout -->
    <div class="px-4 py-2 mt-4 mb-4">
      <a href="/logout" class="flex items-center px-4 py-3 text-red-600 hover:bg-red-50 transition-colors rounded-lg">
        <i class="fas fa-sign-out-alt w-6"></i>
        <span>Logout</span>
      </a>
    </div>
  </nav>
</aside>

<style>
  .sidebar-link.active {
    background-color: #dbeafe;
    color: #2563eb;
    border-right: 4px solid #2563eb;
  }
  @media (max-width: 768px) {
    .mobile-sidebar {
      transform: translateX(-100%);
      transition: transform 0.3s ease-in-out;
    }
    .mobile-sidebar.active {
      transform: translateX(0);
    }
  }
</style>
